import os
import time
from typing import Optional, List
from emulator.emulator_core import move, random_tile_generate, GameOverException
from emulator.emulator_api import get_valid_actions, get_empty_tile
from emulator.terminal_interface import render_board

class AgentNameHere:
    """
    Describe your Agent
    """
    def __init__(self, initialState: Optional[List[List]]=None) -> None:
        self.state = initialState if initialState is not None else \
            random_tile_generate([[0] * 4 for _ in range(4)])
        self.stepCount = 0
        ########## INITIALIZE HERE ############

        #######################################

    def make_move(self, withGUI=True):
        startTime = time.time()
        ########### WRITE CODE BELOW ##########

        #######################################
        endTime = time.time()
        self.stepCount += 1
        print("STEP {}".format(self.stepCount))
        print("Process time: {}s".format(endTime - startTime))
        render_board(self.state)

if __name__ == "__main__":
    print("Working on directory: ", os.getcwd())
    testAgent = AgentNameHere()
    while True:
        testAgent.make_move()
